<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Airshow Safety Database</title>
<link rel="stylesheet" href="src/css/style.css?v=7">
<script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
</head>
<body>
<header>
  <h1>Airshow Safety Database</h1>
  <p>Interactive, 5M-aligned repository of airshow accidents (1908â€“2025). Use search and filters below. Charts update as you filter.</p>
</header>

<section id="controls">
  <div class="control">
    <label for="search">Search</label>
    <input id="search" type="text" placeholder="e.g. engine failure 2019, Duxford, MAC, loop">
  </div>
  <div class="control">
    <label for="yearFrom">Year from</label>
    <input id="yearFrom" type="number" min="1908" max="2025" value="1908">
    <label for="yearTo">to</label>
    <input id="yearTo" type="number" min="1908" max="2025" value="2025">
  </div>
  <div class="control">
    <button id="themeToggle" type="button" title="Toggle dark mode">ğŸŒ™/â˜€ï¸</button>
  </div>
  <div class="control">
    <span>5M Filters:</span>
    <label><input type="checkbox" id="manFilter" checked> Man</label>
    <label><input type="checkbox" id="machineFilter" checked> Machine</label>
    <label><input type="checkbox" id="mediumFilter" checked> Medium</label>
    <label><input type="checkbox" id="missionFilter" checked> Mission</label>
    <label><input type="checkbox" id="managementFilter" checked> Management</label>
  </div>
</section>

<section id="dashboard">
  <div class="cards">
    <div class="card"><div class="metric" id="metricAccidents">â€”</div><div class="label">Accidents</div></div>
    <div class="card"><div class="metric" id="metricFatalities">â€”</div><div class="label">Fatalities</div></div>
    <div class="card"><div class="metric" id="metricCasualties">â€”</div><div class="label">Casualties</div></div>
  </div>
  <div class="charts">
    <canvas id="accidentsChart" width="900" height="360"></canvas>
    <canvas id="baarChart" width="900" height="360"></canvas>
    <canvas id="fiveMChart" width="900" height="360"></canvas>
    <canvas id="maneuverChart" width="900" height="360"></canvas>
  </div>
</section>

<section id="table">
  <h2 class="table-title">Barker Airshow Accident/ Incident Database</h2>
  <div class="scroll-hint">â†” Scroll table horizontally to see more columns</div>
  <div class="table-wrap">
    <table>
      <thead>
        <tr>
          <th>Date</th><th>Aircraft</th><th>Category</th><th>Country</th><th>Manoeuvre</th>
          <th>FIT</th><th>MAC</th><th>LOC</th><th>Mechanical</th><th>Env</th>
          <th>Fatal</th><th>Casualties</th><th>Event</th><th>Location</th>
          <th>Contributing Factor</th>
          <th>Man</th><th>Machine</th><th>Medium</th><th>Mission</th><th>Mgmt</th><th>Remarks</th>
        </tr>
      </thead>
      <tbody id="rows"></tbody>
    </table>
  </div>
</section>

<footer>
  <p>Rates (BAAR/AFR/ACR per 10,000 events; AER = 1 âˆ’ accidents / (eventsÃ—30Ã—5)) are shown from <strong>2020 onwards</strong> (where event counts are available). Use mouse wheel or drag to zoom/pan the rates chart.</p>
</footer>

<script defer src="src/js/app.js?v=7"></script>
</body>
</html>
