<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Airshow Safety Database</title>
<link rel="stylesheet" href="src/css/style.css?v=3">
<script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
<header>
  <h1>Airshow Safety Database</h1>
  <p>Interactive, 5M-aligned repository of airshow accidents (1908–2025). Use search and filters below. Charts update as you filter.</p>
</header>

<section id="controls">
  <div class="control">
    <label for="search">Search</label>
    <input id="search" type="text" placeholder="e.g. engine failure 2019, Duxford, MAC, loop">
  </div>
  <div class="control">
    <label for="yearFrom">Year from</label>
    <input id="yearFrom" type="number" min="1908" max="2025" value="1900">
    <label for="yearTo">to</label>
    <input id="yearTo" type="number" min="1908" max="2025" value="2025">
  </div>
  <div class="control">
    <span>5M Filters:</span>
    <label><input type="checkbox" id="manFilter" checked> Man</label>
    <label><input type="checkbox" id="machineFilter" checked> Machine</label>
    <label><input type="checkbox" id="mediumFilter" checked> Medium</label>
    <label><input type="checkbox" id="missionFilter" checked> Mission</label>
    <label><input type="checkbox" id="managementFilter" checked> Management</label>
  </div>
</section>

<section id="dashboard">
  <div class="cards">
    <div class="card"><div class="metric" id="metricAccidents">—</div><div class="label">Accidents</div></div>
    <div class="card"><div class="metric" id="metricFatalities">—</div><div class="label">Fatalities</div></div>
    <div class="card"><div class="metric" id="metricCasualties">—</div><div class="label">Casualties</div></div>
  </div>
  <div class="charts">
    <canvas id="accidentsChart" width="900" height="360"></canvas>
    <canvas id="baarChart" width="900" height="360"></canvas>
    <canvas id="fiveMChart" width="900" height="360"></canvas>
  </div>
</section>

<section id="table">
  <table>
    <thead>
      <tr>
        <th>Date</th><th>Aircraft</th><th>Category</th><th>Country</th><th>Manoeuvre</th>
        <th>FIT</th><th>MAC</th><th>LOC</th><th>Mech</th><th>Env</th>
        <th>Fatal</th><th>Casualties</th><th>Event</th><th>Location</th>
      </tr>
    </thead>
    <tbody id="rows"></tbody>
  </table>
</section>

<footer>
  <p>Rates (BAAR/AFR/ACR per 10,000 events; AER = 1 − accidents / (events×30×5)) are shown where event counts are available (2022–2024).</p>
</footer>

<script defer src="src/js/app.js?v=3"></script>
</body>
</html>
